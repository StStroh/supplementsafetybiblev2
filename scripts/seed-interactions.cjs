const { createClient } = require('@supabase/supabase-js');
require('dotenv').config();

const supabase = createClient(
  process.env.VITE_SUPABASE_URL,
  process.env.VITE_SUPABASE_ANON_KEY
);

// Shorter list of key interactions for faster seeding
const interactions = [
  // AVOID severity
  { interaction_id: 'INT_001', a_substance_id: 'D_SERTRALINE', b_substance_id: 'S_5HTP', interaction_type: 'pharmacodynamic', severity: 'avoid', summary_short: 'Risk of serotonin syndrome when combining SSRIs with 5-HTP', mechanism: 'Both increase serotonin levels through different mechanisms. 5-HTP is converted to serotonin, while sertraline blocks serotonin reuptake.', clinical_effect: 'May cause serotonin syndrome: agitation, confusion, rapid heart rate, high blood pressure, dilated pupils, muscle rigidity, sweating, diarrhea.', management: 'Avoid concurrent use. If necessary, use only under close medical supervision with low doses.', evidence_grade: 'B', confidence: 'high', citations: [{"source":"Journal of Clinical Psychopharmacology","title":"Serotonin Syndrome Risk with SSRIs and 5-HTP","url":"https://pubmed.ncbi.nlm.nih.gov/example1"}] },
  { interaction_id: 'INT_002', a_substance_id: 'D_FLUOXETINE', b_substance_id: 'S_STJOHNSWORT', interaction_type: 'pharmacodynamic', severity: 'avoid', summary_short: 'Severe risk of serotonin syndrome', mechanism: 'St. John\'s Wort inhibits serotonin reuptake and may have MAO inhibitory effects, combined with SSRI increases serotonin toxicity risk.', clinical_effect: 'Serotonin syndrome symptoms: confusion, agitation, muscle twitching, sweating, tremor, fever.', management: 'Avoid combination. Discontinue St. John\'s Wort at least 2 weeks before starting SSRI.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"British Journal of Clinical Pharmacology","title":"St. John\'s Wort-SSRI Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example2"}] },
  { interaction_id: 'INT_035', a_substance_id: 'S_5HTP', b_substance_id: 'S_STJOHNSWORT', interaction_type: 'pharmacodynamic', severity: 'avoid', summary_short: 'High risk of serotonin syndrome', mechanism: 'Both increase serotonin levels through different mechanisms.', clinical_effect: 'Severe risk of serotonin toxicity: agitation, confusion, tremor, rapid heart rate.', management: 'Avoid combination. Never use together without medical supervision.', evidence_grade: 'B', confidence: 'high', citations: [{"source":"Psychosomatics","title":"Serotonergic Supplement Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example35"}] },
  { interaction_id: 'INT_037', a_substance_id: 'D_FLUOXETINE', b_substance_id: 'S_5HTP', interaction_type: 'pharmacodynamic', severity: 'avoid', summary_short: 'Severe serotonin syndrome risk', mechanism: 'Both increase serotonin availability through different pathways.', clinical_effect: 'Life-threatening serotonin syndrome possible.', management: 'Never combine. Avoid 5-HTP while taking SSRIs.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"Clinical Toxicology","title":"5-HTP SSRI Serotonin Syndrome","url":"https://pubmed.ncbi.nlm.nih.gov/example37"}] },

  // CAUTION severity
  { interaction_id: 'INT_003', a_substance_id: 'D_WARFARIN', b_substance_id: 'S_GINKGO', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Increased bleeding risk when combining warfarin with ginkgo', mechanism: 'Ginkgo has antiplatelet effects and may inhibit platelet-activating factor, potentially enhancing warfarin\'s anticoagulant effects.', clinical_effect: 'Increased risk of bleeding, bruising, or hemorrhage. May affect INR stability.', management: 'Monitor INR more frequently. Watch for signs of bleeding. Consider avoiding or using with close monitoring.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Thrombosis Research","title":"Ginkgo Biloba and Anticoagulant Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example3"}] },
  { interaction_id: 'INT_004', a_substance_id: 'D_WARFARIN', b_substance_id: 'S_GARLIC', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Garlic may enhance anticoagulant effects', mechanism: 'Garlic has antiplatelet properties and may affect platelet aggregation, potentially increasing bleeding risk.', clinical_effect: 'Increased bleeding tendency, prolonged bleeding time, bruising.', management: 'Monitor INR closely if taking high-dose garlic supplements. Use garlic in food amounts generally considered safe.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Pharmacotherapy","title":"Garlic-Warfarin Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example4"}] },
  { interaction_id: 'INT_005', a_substance_id: 'D_WARFARIN', b_substance_id: 'S_FISHOIL', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Fish oil may increase bleeding risk', mechanism: 'Omega-3 fatty acids have mild antiplatelet effects that may enhance anticoagulation.', clinical_effect: 'Potential for increased bleeding, particularly at high doses (>3g/day).', management: 'Use fish oil doses under 3g/day. Monitor for bleeding signs. Check INR more frequently.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"American Journal of Cardiology","title":"Omega-3 and Anticoagulation","url":"https://pubmed.ncbi.nlm.nih.gov/example5"}] },
  { interaction_id: 'INT_006', a_substance_id: 'D_WARFARIN', b_substance_id: 'S_VITAMINE', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Vitamin E may enhance anticoagulant effects', mechanism: 'Vitamin E at high doses (>400 IU) may inhibit platelet aggregation and enhance anticoagulation.', clinical_effect: 'Increased bleeding risk, especially at doses above 400 IU daily.', management: 'Limit vitamin E to <400 IU daily. Monitor INR if taking higher doses.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Archives of Internal Medicine","title":"Vitamin E-Warfarin Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example6"}] },
  { interaction_id: 'INT_008', a_substance_id: 'D_ALPRAZOLAM', b_substance_id: 'S_MELATONIN', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Additive sedative effects', mechanism: 'Both substances cause CNS depression and sedation through different mechanisms.', clinical_effect: 'Excessive drowsiness, dizziness, impaired coordination, risk of falls.', management: 'Use together only under medical supervision. Avoid activities requiring alertness. Consider timing doses separately.', evidence_grade: 'C', confidence: 'moderate', citations: [{"source":"Journal of Clinical Sleep Medicine","title":"Melatonin-Benzodiazepine Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example8"}] },
  { interaction_id: 'INT_009', a_substance_id: 'D_ALPRAZOLAM', b_substance_id: 'S_VALERIAN', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Enhanced sedation and CNS depression', mechanism: 'Valerian has GABAergic effects that may potentiate benzodiazepine action.', clinical_effect: 'Increased drowsiness, impaired motor function, risk of respiratory depression.', management: 'Avoid combination if possible. If used together, use lowest effective doses and monitor closely.', evidence_grade: 'C', confidence: 'moderate', citations: [{"source":"Pharmacotherapy","title":"Valerian-Benzodiazepine Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example9"}] },
  { interaction_id: 'INT_030', a_substance_id: 'S_GARLIC', b_substance_id: 'S_GINKGO', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Both have antiplatelet effects', mechanism: 'Additive antiplatelet effects may increase bleeding risk.', clinical_effect: 'Increased bleeding tendency when combined.', management: 'Use together with caution. Monitor for unusual bleeding or bruising.', evidence_grade: 'C', confidence: 'moderate', citations: [{"source":"Thrombosis Research","title":"Herbal Antiplatelet Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example30"}] },
  { interaction_id: 'INT_036', a_substance_id: 'D_ASPIRIN', b_substance_id: 'S_GARLIC', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Increased bleeding risk', mechanism: 'Both have antiplatelet effects that may be additive.', clinical_effect: 'Enhanced bleeding tendency, prolonged bleeding time.', management: 'Use together with caution. Monitor for bleeding. Use garlic in food amounts generally safer.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Platelets","title":"Garlic-Aspirin Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example36"}] },
  { interaction_id: 'INT_041', a_substance_id: 'D_CLOPIDOGREL', b_substance_id: 'S_TURMERIC', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Increased bleeding risk', mechanism: 'Turmeric/curcumin has antiplatelet effects that may be additive.', clinical_effect: 'Enhanced bleeding risk, particularly at high curcumin doses.', management: 'Use together with caution. Monitor for unusual bleeding. Limit turmeric supplement doses.', evidence_grade: 'C', confidence: 'moderate', citations: [{"source":"Blood Coagulation & Fibrinolysis","title":"Curcumin Antiplatelet Effects","url":"https://pubmed.ncbi.nlm.nih.gov/example41"}] },
  { interaction_id: 'INT_042', a_substance_id: 'D_WARFARIN', b_substance_id: 'S_TURMERIC', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'May enhance anticoagulant effects', mechanism: 'Turmeric may have antiplatelet and mild anticoagulant effects.', clinical_effect: 'Potential for increased bleeding risk, INR changes.', management: 'Monitor INR closely. Use turmeric in food amounts generally safer than high-dose supplements.', evidence_grade: 'C', confidence: 'moderate', citations: [{"source":"Annals of Pharmacotherapy","title":"Turmeric-Warfarin Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example42"}] },

  // MONITOR severity
  { interaction_id: 'INT_012', a_substance_id: 'D_WARFARIN', b_substance_id: 'S_VITAMINK', interaction_type: 'pharmacodynamic', severity: 'monitor', summary_short: 'Vitamin K antagonizes warfarin effects', mechanism: 'Vitamin K is required for clotting factor synthesis. High vitamin K intake reduces warfarin effectiveness.', clinical_effect: 'Decreased INR, reduced anticoagulation, increased clotting risk.', management: 'Maintain consistent vitamin K intake. Avoid sudden increases in vitamin K-rich foods or supplements.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"Blood","title":"Vitamin K-Warfarin Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example12"}] },
  { interaction_id: 'INT_013', a_substance_id: 'D_LEVOTHYROXINE', b_substance_id: 'S_IRON', interaction_type: 'pharmacokinetic', severity: 'monitor', summary_short: 'Iron reduces levothyroxine absorption', mechanism: 'Iron chelates with levothyroxine in the GI tract, forming insoluble complexes.', clinical_effect: 'Reduced thyroid hormone levels, potential hypothyroid symptoms.', management: 'Separate doses by at least 4 hours. Monitor TSH levels.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"Thyroid","title":"Iron-Levothyroxine Interactions","url":"https://pubmed.ncbi.nlm.nih.gov/example13"}] },
  { interaction_id: 'INT_014', a_substance_id: 'D_LEVOTHYROXINE', b_substance_id: 'S_CALCIUM', interaction_type: 'pharmacokinetic', severity: 'monitor', summary_short: 'Calcium reduces levothyroxine absorption', mechanism: 'Calcium binds to levothyroxine in the GI tract, reducing bioavailability.', clinical_effect: 'Decreased thyroid hormone levels, possible need for dose adjustment.', management: 'Take levothyroxine at least 4 hours apart from calcium. Monitor TSH.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"Thyroid","title":"Calcium-Levothyroxine Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example14"}] },
  { interaction_id: 'INT_020', a_substance_id: 'D_ASPIRIN', b_substance_id: 'S_FISHOIL', interaction_type: 'pharmacodynamic', severity: 'monitor', summary_short: 'Mild increase in bleeding risk', mechanism: 'Both have antiplatelet effects, though fish oil\'s effect is modest.', clinical_effect: 'Slightly increased bleeding risk, particularly at fish oil doses >3g/day.', management: 'Generally safe at moderate fish oil doses (<3g/day). Monitor for unusual bleeding.', evidence_grade: 'B', confidence: 'low', citations: [{"source":"American Journal of Clinical Nutrition","title":"Fish Oil and Aspirin","url":"https://pubmed.ncbi.nlm.nih.gov/example20"}] },
  { interaction_id: 'INT_031', a_substance_id: 'S_CALCIUM', b_substance_id: 'S_IRON', interaction_type: 'pharmacokinetic', severity: 'monitor', summary_short: 'Calcium reduces iron absorption', mechanism: 'Both compete for the same intestinal absorption pathways.', clinical_effect: 'Reduced iron absorption, potential for iron deficiency with chronic co-administration.', management: 'Separate doses by 2-4 hours for optimal absorption of both.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"American Journal of Clinical Nutrition","title":"Calcium-Iron Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example31"}] },
  { interaction_id: 'INT_038', a_substance_id: 'D_OMEPRAZOLE', b_substance_id: 'S_IRON', interaction_type: 'pharmacokinetic', severity: 'monitor', summary_short: 'Reduced iron absorption', mechanism: 'PPIs reduce stomach acid, impairing iron absorption (especially non-heme iron).', clinical_effect: 'Potential for iron deficiency with long-term PPI use.', management: 'Monitor iron levels. Consider iron supplementation if deficient. Vitamin C may help absorption.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"American Journal of Gastroenterology","title":"PPI Iron Malabsorption","url":"https://pubmed.ncbi.nlm.nih.gov/example38"}] },
  { interaction_id: 'INT_049', a_substance_id: 'S_MELATONIN', b_substance_id: 'S_VALERIAN', interaction_type: 'pharmacodynamic', severity: 'monitor', summary_short: 'Additive sedative effects', mechanism: 'Both promote sleep through different mechanisms.', clinical_effect: 'Enhanced sedation, may improve sleep quality but increase morning grogginess.', management: 'Use together with caution. Start with low doses. Avoid activities requiring alertness.', evidence_grade: 'C', confidence: 'moderate', citations: [{"source":"Sleep Medicine Reviews","title":"Herbal Sleep Aids Combinations","url":"https://pubmed.ncbi.nlm.nih.gov/example49"}] },

  // INFO severity
  { interaction_id: 'INT_023', a_substance_id: 'S_CALCIUM', b_substance_id: 'S_VITAMIND', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'Vitamin D enhances calcium absorption', mechanism: 'Vitamin D is required for optimal calcium absorption in the intestine.', clinical_effect: 'Beneficial combination for bone health. Vitamin D improves calcium utilization.', management: 'Recommended to take together for bone health. Common and safe combination.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"Journal of Bone and Mineral Research","title":"Calcium and Vitamin D Synergy","url":"https://pubmed.ncbi.nlm.nih.gov/example23"}] },
  { interaction_id: 'INT_025', a_substance_id: 'S_IRON', b_substance_id: 'S_VITAMINC', interaction_type: 'pharmacokinetic', severity: 'info', summary_short: 'Vitamin C enhances iron absorption', mechanism: 'Vitamin C reduces ferric iron to ferrous form, which is more readily absorbed.', clinical_effect: 'Beneficial interaction. Vitamin C significantly improves non-heme iron absorption.', management: 'Recommended to take together, especially for plant-based iron sources.', evidence_grade: 'A', confidence: 'high', citations: [{"source":"American Journal of Clinical Nutrition","title":"Vitamin C and Iron Absorption","url":"https://pubmed.ncbi.nlm.nih.gov/example25"}] },
  { interaction_id: 'INT_027', a_substance_id: 'S_FISHOIL', b_substance_id: 'S_TURMERIC', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'Both have anti-inflammatory effects', mechanism: 'Complementary mechanisms for reducing inflammation.', clinical_effect: 'May provide additive benefits for inflammatory conditions.', management: 'Safe to combine. Popular combination for joint health and inflammation.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Journal of Medicinal Food","title":"Turmeric and Omega-3","url":"https://pubmed.ncbi.nlm.nih.gov/example27"}] },
  { interaction_id: 'INT_039', a_substance_id: 'S_GINKGO', b_substance_id: 'S_GINSENG', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'Commonly combined for cognitive support', mechanism: 'Both used for cognitive enhancement through different mechanisms.', clinical_effect: 'May have complementary benefits. Generally well tolerated together.', management: 'Safe combination. Popular in cognitive support supplements.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Phytomedicine","title":"Ginseng-Ginkgo Combination","url":"https://pubmed.ncbi.nlm.nih.gov/example39"}] },
  { interaction_id: 'INT_040', a_substance_id: 'S_MAGNESIUM', b_substance_id: 'S_MELATONIN', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'May enhance sleep quality', mechanism: 'Complementary mechanisms for promoting sleep and relaxation.', clinical_effect: 'May provide additive benefits for sleep quality.', management: 'Safe and commonly combined for sleep support.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Journal of Sleep Research","title":"Melatonin Magnesium Combo","url":"https://pubmed.ncbi.nlm.nih.gov/example40"}] },

  // Additional supplement-supplement interactions for Mode B
  { interaction_id: 'INT_050', a_substance_id: 'S_GINKGO', b_substance_id: 'S_VITAMINE', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Increased bleeding risk when combined', mechanism: 'Both have antiplatelet effects that may be additive.', clinical_effect: 'Enhanced bleeding tendency, particularly with high doses of vitamin E (>400 IU).', management: 'Use together with caution. Monitor for unusual bleeding or bruising. Keep vitamin E below 400 IU daily.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Platelets","title":"Ginkgo Vitamin E Bleeding Risk","url":"https://pubmed.ncbi.nlm.nih.gov/example50"}] },
  { interaction_id: 'INT_051', a_substance_id: 'S_FISHOIL', b_substance_id: 'S_GINKGO', interaction_type: 'pharmacodynamic', severity: 'caution', summary_short: 'Additive antiplatelet effects increase bleeding risk', mechanism: 'Both omega-3 fatty acids and ginkgo have antiplatelet properties.', clinical_effect: 'Increased risk of bleeding, bruising, especially at high doses.', management: 'Use together with caution. Monitor for bleeding signs. Keep fish oil below 3g/day.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Prostaglandins, Leukotrienes and Essential Fatty Acids","title":"Omega-3 Ginkgo Interaction","url":"https://pubmed.ncbi.nlm.nih.gov/example51"}] },
  { interaction_id: 'INT_052', a_substance_id: 'S_FISHOIL', b_substance_id: 'S_VITAMINE', interaction_type: 'pharmacodynamic', severity: 'monitor', summary_short: 'Both have antiplatelet effects', mechanism: 'Mild additive antiplatelet activity.', clinical_effect: 'Slightly increased bleeding risk at high doses of both.', management: 'Generally safe at moderate doses. Monitor for unusual bleeding if taking high doses of both.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Nutrition Reviews","title":"Vitamin E Fish Oil Combo","url":"https://pubmed.ncbi.nlm.nih.gov/example52"}] },
  { interaction_id: 'INT_053', a_substance_id: 'S_MAGNESIUM', b_substance_id: 'S_VITAMIND', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'Magnesium needed for vitamin D metabolism', mechanism: 'Magnesium is a cofactor for enzymes that activate vitamin D.', clinical_effect: 'Beneficial combination. Magnesium deficiency may impair vitamin D utilization.', management: 'Recommended to take together. Both support bone health and metabolic function.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Journal of the American Osteopathic Association","title":"Magnesium Vitamin D Relationship","url":"https://pubmed.ncbi.nlm.nih.gov/example53"}] },
  { interaction_id: 'INT_054', a_substance_id: 'S_CALCIUM', b_substance_id: 'S_MAGNESIUM', interaction_type: 'pharmacokinetic', severity: 'monitor', summary_short: 'High calcium may reduce magnesium absorption', mechanism: 'Both compete for absorption in the intestine.', clinical_effect: 'Very high calcium intake may impair magnesium absorption over time.', management: 'Use balanced ratio (2:1 calcium to magnesium). Separate doses by 2 hours if taking high doses.', evidence_grade: 'B', confidence: 'moderate', citations: [{"source":"Magnesium Research","title":"Calcium Magnesium Competition","url":"https://pubmed.ncbi.nlm.nih.gov/example54"}] },
  { interaction_id: 'INT_055', a_substance_id: 'S_GINSENG', b_substance_id: 'S_VITAMIND', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'May have complementary immune support', mechanism: 'Both support immune function through different pathways.', clinical_effect: 'Potential additive benefits for immune health.', management: 'Safe to combine. Popular combination during cold season.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Nutrients","title":"Ginseng Vitamin D Immune Support","url":"https://pubmed.ncbi.nlm.nih.gov/example55"}] },
  { interaction_id: 'INT_056', a_substance_id: 'S_TURMERIC', b_substance_id: 'S_VITAMINE', interaction_type: 'pharmacodynamic', severity: 'monitor', summary_short: 'Vitamin E may enhance curcumin bioavailability', mechanism: 'Vitamin E as a fat-soluble antioxidant may protect curcumin from oxidation.', clinical_effect: 'May improve curcumin absorption and stability.', management: 'Generally beneficial combination. Watch for bleeding at very high doses of both.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Molecules","title":"Curcumin Vitamin E Synergy","url":"https://pubmed.ncbi.nlm.nih.gov/example56"}] },
  { interaction_id: 'INT_057', a_substance_id: 'S_GINSENG', b_substance_id: 'S_MAGNESIUM', interaction_type: 'pharmacodynamic', severity: 'info', summary_short: 'May support energy and stress management', mechanism: 'Complementary mechanisms for energy production and stress adaptation.', clinical_effect: 'May provide additive benefits for fatigue and stress.', management: 'Safe combination. Popular in adaptogenic formulas.', evidence_grade: 'C', confidence: 'low', citations: [{"source":"Journal of Ginseng Research","title":"Ginseng Magnesium Combo","url":"https://pubmed.ncbi.nlm.nih.gov/example57"}] }
];

async function seed() {
  console.log('Inserting', interactions.length, 'interactions...');

  // Insert in batches of 5
  for (let i = 0; i < interactions.length; i += 5) {
    const batch = interactions.slice(i, i + 5);
    const { error } = await supabase.from('checker_interactions').upsert(batch, { onConflict: 'interaction_id' });
    if (error) {
      console.error('Error inserting interactions batch', i, ':', error.message);
    } else {
      console.log('Inserted interactions', i, '-', Math.min(i + 5, interactions.length));
    }
  }

  // Count interactions
  const { count: intCount } = await supabase.from('checker_interactions').select('*', { count: 'exact', head: true });
  console.log('âœ… Total interactions:', intCount);
}

seed().catch(console.error);
